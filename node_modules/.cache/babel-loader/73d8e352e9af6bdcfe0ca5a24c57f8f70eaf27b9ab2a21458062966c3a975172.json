{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MapView=_ref=>{let{userLocation,destination,onBack}=_ref;const mapRef=useRef(null);const directionsRendererRef=useRef(null);const[directions,setDirections]=useState(null);const[error,setError]=useState(null);useEffect(()=>{if(!userLocation||!destination)return;const loadMap=()=>{const map=new window.google.maps.Map(mapRef.current,{center:userLocation,zoom:10,streetViewControl:false,mapTypeControl:false});const directionsService=new window.google.maps.DirectionsService();const directionsRenderer=new window.google.maps.DirectionsRenderer({map,panel:document.getElementById('directionsPanel')});directionsRendererRef.current=directionsRenderer;const request={origin:new window.google.maps.LatLng(userLocation.lat,userLocation.lng),destination:new window.google.maps.LatLng(destination.lat,destination.lng),travelMode:window.google.maps.TravelMode.DRIVING};directionsService.route(request,(result,status)=>{if(status===window.google.maps.DirectionsStatus.OK){directionsRenderer.setDirections(result);setDirections(result);setError(null);}else{setError('Could not fetch directions. Please try again later.');}});};if(!window.google||!window.google.maps){setError('Google Maps API not loaded.');return;}loadMap();},[userLocation,destination]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row h-full max-w-7xl mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:w-2/3 h-96 md:h-[600px] rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{ref:mapRef,className:\"w-full h-full\"})}),/*#__PURE__*/_jsxs(\"div\",{id:\"directionsPanel\",className:\"md:w-1/3 mt-4 md:mt-0 md:ml-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-auto max-h-[600px]\",children:[error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:error}),!error&&!directions&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading directions...\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"fixed top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded z-50\",children:\"\\u2190 Back\"})]});};export default MapView;","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","MapView","_ref","userLocation","destination","onBack","mapRef","directionsRendererRef","directions","setDirections","error","setError","loadMap","map","window","google","maps","Map","current","center","zoom","streetViewControl","mapTypeControl","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","panel","document","getElementById","request","origin","LatLng","lat","lng","travelMode","TravelMode","DRIVING","route","result","status","DirectionsStatus","OK","className","children","ref","id","onClick"],"sources":["E:/My Projects/Travel Buddy/src/components/MapView.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nconst MapView = ({ userLocation, destination, onBack }) => {\r\n  const mapRef = useRef(null);\r\n  const directionsRendererRef = useRef(null);\r\n  const [directions, setDirections] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!userLocation || !destination) return;\r\n\r\n    const loadMap = () => {\r\n      const map = new window.google.maps.Map(mapRef.current, {\r\n        center: userLocation,\r\n        zoom: 10,\r\n        streetViewControl: false,\r\n        mapTypeControl: false,\r\n      });\r\n\r\n      const directionsService = new window.google.maps.DirectionsService();\r\n      const directionsRenderer = new window.google.maps.DirectionsRenderer({\r\n        map,\r\n        panel: document.getElementById('directionsPanel'),\r\n      });\r\n      directionsRendererRef.current = directionsRenderer;\r\n\r\n      const request = {\r\n        origin: new window.google.maps.LatLng(userLocation.lat, userLocation.lng),\r\n        destination: new window.google.maps.LatLng(destination.lat, destination.lng),\r\n        travelMode: window.google.maps.TravelMode.DRIVING,\r\n      };\r\n\r\n      directionsService.route(request, (result, status) => {\r\n        if (status === window.google.maps.DirectionsStatus.OK) {\r\n          directionsRenderer.setDirections(result);\r\n          setDirections(result);\r\n          setError(null);\r\n        } else {\r\n          setError('Could not fetch directions. Please try again later.');\r\n        }\r\n      });\r\n    };\r\n\r\n    if (!window.google || !window.google.maps) {\r\n      setError('Google Maps API not loaded.');\r\n      return;\r\n    }\r\n\r\n    loadMap();\r\n  }, [userLocation, destination]);\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row h-full max-w-7xl mx-auto p-4\">\r\n      <div className=\"md:w-2/3 h-96 md:h-[600px] rounded-lg shadow-md overflow-hidden\">\r\n        <div ref={mapRef} className=\"w-full h-full\" />\r\n      </div>\r\n      <div\r\n        id=\"directionsPanel\"\r\n        className=\"md:w-1/3 mt-4 md:mt-0 md:ml-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-auto max-h-[600px]\"\r\n      >\r\n        {error && <p className=\"text-red-600\">{error}</p>}\r\n        {!error && !directions && <p>Loading directions...</p>}\r\n      </div>\r\n      <button\r\n        onClick={onBack}\r\n        className=\"fixed top-4 left-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded z-50\"\r\n      >\r\n        &larr; Back\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}