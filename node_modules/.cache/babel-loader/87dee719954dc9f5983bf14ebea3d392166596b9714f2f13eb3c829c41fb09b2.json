{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import places from'../utils/places';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faMapMarkerAlt,faArrowLeft,faArrowRight,faCompass,faRoute}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const variants={enter:direction=>({x:direction>0?300:-300,opacity:0,scale:0.8}),center:{zIndex:1,x:0,opacity:1,scale:1},exit:direction=>({zIndex:0,x:direction<0?300:-300,opacity:0,scale:0.8})};const swipeConfidenceThreshold=10000;const swipePower=(offset,velocity)=>{return Math.abs(offset)*velocity;};const LandingPage=_ref=>{let{onSelectPlace}=_ref;const[[page,direction],setPage]=useState([0,0]);const imageIndex=(page%places.length+places.length)%places.length;const paginate=newDirection=>{setPage([page+newDirection,newDirection]);};// Auto-advance carousel every 5 seconds for slower transitions\nuseEffect(()=>{const interval=setInterval(()=>{paginate(1);},5000);return()=>clearInterval(interval);},[page]);// Preload images for caching to reduce lag\nuseEffect(()=>{places.forEach(place=>{const img=new Image();img.src=place.image;});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-4xl mx-auto flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-bold mb-8 text-center flex items-center gap-3 text-blue-600\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCompass}),\" Explore Sri Lanka\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full max-w-3xl h-96 select-none\",children:[/*#__PURE__*/_jsx(AnimatePresence,{initial:false,custom:direction,children:/*#__PURE__*/_jsxs(motion.div,{className:\"absolute w-full h-full rounded-lg shadow-lg overflow-hidden cursor-pointer\",custom:direction,variants:variants,initial:\"enter\",animate:\"center\",exit:\"exit\",transition:{x:{type:'spring',stiffness:300,damping:30},opacity:{duration:0.2}},drag:\"x\",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:(e,_ref2)=>{let{offset,velocity}=_ref2;const swipe=swipePower(offset.x,velocity.x);if(swipe<-swipeConfidenceThreshold){paginate(1);}else if(swipe>swipeConfidenceThreshold){paginate(-1);}},onClick:()=>onSelectPlace(places[imageIndex]),children:[/*#__PURE__*/_jsx(\"img\",{src:places[imageIndex].image,alt:places[imageIndex].name,className:\"object-cover w-full h-full\",loading:\"lazy\",width:600,height:384}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 text-white\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-semibold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMapMarkerAlt}),places[imageIndex].name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faRoute}),places[imageIndex].description]})]})]},page)}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-2 -translate-y-1/2 z-10\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>paginate(-1),className:\"bg-white dark:bg-gray-800 bg-opacity-70 dark:bg-opacity-70 rounded-full p-2 shadow hover:bg-opacity-100 transition\",\"aria-label\":\"Previous\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft,size:\"lg\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 right-2 -translate-y-1/2 z-10\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>paginate(1),className:\"bg-white dark:bg-gray-800 bg-opacity-70 dark:bg-opacity-70 rounded-full p-2 shadow hover:bg-opacity-100 transition\",\"aria-label\":\"Next\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowRight,size:\"lg\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-4 space-x-2\",children:places.map((place,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage([i,i>imageIndex?1:-1]),className:`w-3 h-3 rounded-full ${i===imageIndex?'bg-blue-600':'bg-gray-300 dark:bg-gray-600'}`,\"aria-label\":`Go to slide ${i+1}`},place.id))}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-6 text-center text-gray-600 dark:text-gray-300\",children:\"Swipe or use arrows to navigate. Click on the image to select a destination.\"})]});};export default LandingPage;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","places","FontAwesomeIcon","faMapMarkerAlt","faArrowLeft","faArrowRight","faCompass","faRoute","jsx","_jsx","jsxs","_jsxs","variants","enter","direction","x","opacity","scale","center","zIndex","exit","swipeConfidenceThreshold","swipePower","offset","velocity","Math","abs","LandingPage","_ref","onSelectPlace","page","setPage","imageIndex","length","paginate","newDirection","interval","setInterval","clearInterval","forEach","place","img","Image","src","image","className","children","icon","initial","custom","div","animate","transition","type","stiffness","damping","duration","drag","dragConstraints","left","right","dragElastic","onDragEnd","e","_ref2","swipe","onClick","alt","name","loading","width","height","description","size","map","i","id"],"sources":["E:/My Projects/Travel Buddy/src/components/LandingPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport places from '../utils/places';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMapMarkerAlt, faArrowLeft, faArrowRight, faCompass, faRoute } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst variants = {\r\n  enter: (direction) => ({\r\n    x: direction > 0 ? 300 : -300,\r\n    opacity: 0,\r\n    scale: 0.8,\r\n  }),\r\n  center: {\r\n    zIndex: 1,\r\n    x: 0,\r\n    opacity: 1,\r\n    scale: 1,\r\n  },\r\n  exit: (direction) => ({\r\n    zIndex: 0,\r\n    x: direction < 0 ? 300 : -300,\r\n    opacity: 0,\r\n    scale: 0.8,\r\n  }),\r\n};\r\n\r\nconst swipeConfidenceThreshold = 10000;\r\nconst swipePower = (offset, velocity) => {\r\n  return Math.abs(offset) * velocity;\r\n};\r\n\r\nconst LandingPage = ({ onSelectPlace }) => {\r\n  const [[page, direction], setPage] = useState([0, 0]);\r\n\r\n  const imageIndex = ((page % places.length) + places.length) % places.length;\r\n\r\n  const paginate = (newDirection) => {\r\n    setPage([page + newDirection, newDirection]);\r\n  };\r\n\r\n  // Auto-advance carousel every 5 seconds for slower transitions\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      paginate(1);\r\n    }, 5000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [page]);\r\n\r\n  // Preload images for caching to reduce lag\r\n  useEffect(() => {\r\n    places.forEach((place) => {\r\n      const img = new Image();\r\n      img.src = place.image;\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-4 max-w-4xl mx-auto flex flex-col items-center\">\r\n      <h1 className=\"text-4xl font-bold mb-8 text-center flex items-center gap-3 text-blue-600\">\r\n        <FontAwesomeIcon icon={faCompass} /> Explore Sri Lanka\r\n      </h1>\r\n      <div className=\"relative w-full max-w-3xl h-96 select-none\">\r\n        <AnimatePresence initial={false} custom={direction}>\r\n          <motion.div\r\n            key={page}\r\n            className=\"absolute w-full h-full rounded-lg shadow-lg overflow-hidden cursor-pointer\"\r\n            custom={direction}\r\n            variants={variants}\r\n            initial=\"enter\"\r\n            animate=\"center\"\r\n            exit=\"exit\"\r\n            transition={{\r\n              x: { type: 'spring', stiffness: 300, damping: 30 },\r\n              opacity: { duration: 0.2 },\r\n            }}\r\n            drag=\"x\"\r\n            dragConstraints={{ left: 0, right: 0 }}\r\n            dragElastic={1}\r\n            onDragEnd={(e, { offset, velocity }) => {\r\n              const swipe = swipePower(offset.x, velocity.x);\r\n              if (swipe < -swipeConfidenceThreshold) {\r\n                paginate(1);\r\n              } else if (swipe > swipeConfidenceThreshold) {\r\n                paginate(-1);\r\n              }\r\n            }}\r\n            onClick={() => onSelectPlace(places[imageIndex])}\r\n          >\r\n            <img\r\n              src={places[imageIndex].image}\r\n              alt={places[imageIndex].name}\r\n              className=\"object-cover w-full h-full\"\r\n              loading=\"lazy\"\r\n              width={600}\r\n              height={384}\r\n            />\r\n            <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 text-white\">\r\n              <h2 className=\"text-2xl font-semibold flex items-center gap-2\">\r\n                <FontAwesomeIcon icon={faMapMarkerAlt} />\r\n                {places[imageIndex].name}\r\n              </h2>\r\n              <p className=\"text-sm flex items-center gap-2\">\r\n                <FontAwesomeIcon icon={faRoute} />\r\n                {places[imageIndex].description}\r\n              </p>\r\n            </div>\r\n          </motion.div>\r\n        </AnimatePresence>\r\n        <div className=\"absolute top-1/2 left-2 -translate-y-1/2 z-10\">\r\n          <button\r\n            onClick={() => paginate(-1)}\r\n            className=\"bg-white dark:bg-gray-800 bg-opacity-70 dark:bg-opacity-70 rounded-full p-2 shadow hover:bg-opacity-100 transition\"\r\n            aria-label=\"Previous\"\r\n          >\r\n            <FontAwesomeIcon icon={faArrowLeft} size=\"lg\" />\r\n          </button>\r\n        </div>\r\n        <div className=\"absolute top-1/2 right-2 -translate-y-1/2 z-10\">\r\n          <button\r\n            onClick={() => paginate(1)}\r\n            className=\"bg-white dark:bg-gray-800 bg-opacity-70 dark:bg-opacity-70 rounded-full p-2 shadow hover:bg-opacity-100 transition\"\r\n            aria-label=\"Next\"\r\n          >\r\n            <FontAwesomeIcon icon={faArrowRight} size=\"lg\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-center mt-4 space-x-2\">\r\n        {places.map((place, i) => (\r\n          <button\r\n            key={place.id}\r\n            onClick={() => setPage([i, i > imageIndex ? 1 : -1])}\r\n            className={`w-3 h-3 rounded-full ${\r\n              i === imageIndex ? 'bg-blue-600' : 'bg-gray-300 dark:bg-gray-600'\r\n            }`}\r\n            aria-label={`Go to slide ${i + 1}`}\r\n          />\r\n        ))}\r\n      </div>\r\n      <p className=\"mt-6 text-center text-gray-600 dark:text-gray-300\">\r\n        Swipe or use arrows to navigate. Click on the image to select a destination.\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}